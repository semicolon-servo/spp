# Maintainer: fox <pixilreal@gmail.com>
pkgname=servo++
pkgver=1.0.0
pkgrel=1
pkgdesc="C++ implementation of the servo programming language"
arch=('x86_64')
url="https://github.com/semicolon-servo/spp"
license=('MIT License')
depends=('gcc-libs')
makedepends=('gcc' 'make')
source=("${pkgname}-${pkgver}.tar.gz")
sha256sums=('SKIP')

build() {
    cd "${srcdir}"
    if [ -d "servo/spp" ]; then
        cd servo/spp
    elif [ -d "${pkgname}-${pkgver}/servo/spp" ]; then
        cd "${pkgname}-${pkgver}/servo/spp"
    fi
    make clean || true
    make
}

package() {
    cd "${srcdir}"
    if [ -d "servo/spp" ]; then
        cd servo/spp
    elif [ -d "${pkgname}-${pkgver}/servo/spp" ]; then
        cd "${pkgname}-${pkgver}/servo/spp"
    fi
    install -Dm755 servocomp "${pkgdir}/usr/bin/servocomp"
}

